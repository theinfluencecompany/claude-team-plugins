{
  "hooks": {
    "Stop": [
      {
        "hooks": [
          {
            "type": "agent",
            "prompt": "Run `git diff --name-only` to find changed files. If fewer than 5 files changed, respond 'No audit needed' and stop. If 5+ changed, read each and audit for: `any` types, `as` casts, empty `catch {}`, `|| true` without comments, unused imports, shell string interpolation, secrets in logs, copy-pasted code. Max 10 findings by severity: BUG > SECURITY > SMELL > STYLE.",
            "timeout": 120
          }
        ]
      }
    ]
  }
}
